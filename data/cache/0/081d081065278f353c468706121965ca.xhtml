
<h2 class="sectionedit1" id="g_模块m509调试">3G 模块M509调试</h2>
<div class="level2">

</div>
<!-- EDIT1 SECTION "3G 模块M509调试" [1-33] -->
<h3 class="sectionedit2" id="调试一般步骤">调试一般步骤</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> 在内核中添加3G模块的ID</div>
</li>
<li class="level1"><div class="li"> USB Serial等功能(生成ttyUSB0，ttyUSB1，ttyUSB2)</div>
</li>
<li class="level1"><div class="li"> 移植RIL</div>
</li>
</ol>

</div>
<!-- EDIT2 SECTION "调试一般步骤" [34-172] -->
<h3 class="sectionedit3" id="相关">相关</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> ttyUSB0 拨号上网</div>
</li>
<li class="level1"><div class="li"> ttyUSB1 调试</div>
</li>
<li class="level1"><div class="li"> ttyUSB2 打电话</div>
</li>
</ul>

</div>
<!-- EDIT3 SECTION "相关" [173-256] -->
<h3 class="sectionedit4" id="常见错误">常见错误</h3>
<div class="level3">
<ol>
<li class="level1 node"><div class="li"> 不能生成/dev/ttyUSBx节点</div>
<ul>
<li class="level2"><div class="li"> 启用USB Serial功能</div>
</li>
<li class="level2"><div class="li"> <pre class="code">    Device Drivers  ---&gt; 
        [*] USB support  ---&gt; 
        USB Serial Converter support  ---&gt;  
        USB Serial Converter support
        [*]USB driver for GSM and CDMA modems 
    </pre>
</div>
</li>
<li class="level2"><div class="li">要注意的是，编译方式一定要选为模块化编译。选定这两项后，执行make modules命令，会编译源码中/driver/usb/serial/目录下的usb-serial.c和option.c两个文件及其它一些相关文件。在option.c中，可以看到已经定义了很多设备的描述符，但没有定义的描述符。我们自已定义一下即可。方法是，在源码中，添加</div>
</li>
<li class="level2"><div class="li"> <pre class="code cpp">    <span class="co2">#define    ZTE_VENDOR_ID        0x19d2</span>
    <span class="co2">#define    ZTE_PRODUCT_AC2746    0xfff1</span>
&nbsp;</pre>
</div>
</li>
<li class="level2"><div class="li"> 在option_ids[]的数组中添加{ USB_DEVICE(ZTE_VENDOR_ID,ZTE_PRODUCT_AC2746)},完成后，重新编译即可。可通过lsusb 命令查看设备描述符。</div>
</li>
</ul>
</li>
</ol>

</div>
<!-- EDIT4 SECTION "常见错误" [257-] -->