a:21:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:16:"HWC 显示合成";i:1;i:2;i:2;i:1;}i:2;i:1;}i:2;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:2;}i:2;i:1;}i:3;a:3:{i:0;s:2:"hr";i:1;a:0:{}i:2;i:30;}i:4;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:30;}i:5;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:189:"我们通常看到的平板电脑的显示界面都是几个图层合成显示的结果，比如一个启动器界面一般就包括三层：背景壁纸、应用图标和系统通知栏。";}i:2;i:36;}i:6;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:225;}i:7;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:225;}i:8;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:318:"一般来说，系统会调用OpenGL来做合成，但GPU工作任务重会很耗电，对平板的续航体验造成影响，所以系统也可以直接调用显示硬件DE（display engine）来做合成，也就是今天谈的HWC (Hardware Composer)，硬件合成，安卓显示系统里面的一种显示机制。";}i:2;i:227;}i:9;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:545;}i:10;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:545;}i:11;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:54:"下图简单体现了这两种合成方式的区别：";}i:2;i:547;}i:12;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:601;}i:13;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:601;}i:14;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:253:"在第一种情况中，四个图层全部使用OpenGL来合成，合成结果会传给DDR内存中，最终显示到平板屏幕上；在第二种情况下，Layer 1/2/3直接采用DE硬件合成，无需传到DDR就可直接显示到平板屏幕上。";}i:2;i:603;}i:15;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:856;}i:16;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:856;}i:17;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:564:"相比GPU合成，硬件合成的显示机制减少了GPU的工作量，减少了DDR读写次数，从而大幅降低了系统功耗和系统带宽需求。在使用显示硬件进行合成时，GPU可以解放出来去做其他的图形处理工作，进一步提升系统性能。相对比GPU合成，DE硬件合成在处理有覆盖图层的情况时也更有优势。假如Layer1 和Layer2有一部分覆盖，GPU合成时会老老实实地将Layer 1和Layer2各读取一次，DE硬件合成则更加智能，覆盖的部分只读一次，显示速度更快。";}i:2;i:858;}i:18;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:1422;}i:19;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:1422;}i:20;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:1422;}}